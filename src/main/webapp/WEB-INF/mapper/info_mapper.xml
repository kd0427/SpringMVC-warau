<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
						
<mapper namespace="info">
	<!-- 게시판 리스트 -->
	<select id="getList" resultType="com.global.vo.InfoVO">
		<![CDATA[
			select * from info_table order by info_idx desc
		]]>
	</select>
	
	<!-- 글쓰기 -->
	<insert id="write" parameterType="com.global.vo.InfoVO">
	<![CDATA[
		insert into info_table(info_idx, info_title, info_content, info_regdate, info_img, info_writer)
			values (info_seq.nextval, #{info_title}, #{info_content}, sysdate, #{info_img, jdbcType=VARCHAR},
			#{info_writer})
	]]>
	</insert>
	
	<!-- 글읽기 -->
	<select id="getContentInfo" parameterType="java.lang.Integer" resultType="com.global.vo.InfoVO">
		<![CDATA[
			select info_writer,
			to_char(info_regdate, 'YYYY-MM-DD') as info_regdate,
			info_title, info_content, info_img
			from info_table
			where info_idx =#{info_idx}
		]]>
	</select>
	
	<!-- 글 삭제 -->
	<delete id="infoWriteDelete" parameterType="java.lang.Integer" >
		<![CDATA[
		delete from info_table where info_idx = #{info_idx}
		]]>
	</delete>
	<!-- 글 수정 -->
	<update id="infoModifyInfo" parameterType="com.global.vo.InfoVO">
		<![CDATA[
			update info_table
				set info_title = #{info_title}, info_content = #{info_content},
				info_img = #{info_img, jdbcType=VARCHAR}
				where info_idx = #{info_idx}
		]]>
	</update>
</mapper>
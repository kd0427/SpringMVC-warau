<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
						
<mapper namespace="petro">

<!-- //글목록시발 글 번호, 제목, 작성자, 작성날짜 petro_idx, petro_title, petro_writer, petro_regdate -->

	<select id="getPetroList" resultType="com.global.vo.PetroVO">
		<![CDATA[
			select petro_idx, petro_title, petro_writer, 
				to_char(petro_regdate, 'YYYY-MM-DD') as petro_regdate
			from petro_table 
			order by petro_idx desc
		]]>
	</select>
	
<!-- 글쓴ㄱ ㅓ 저장 -->
<insert id="petroAddWrite" parameterType="com.global.vo.PetroVO">
	<![CDATA[
		insert into petro_table(petro_idx, petro_title, petro_content, 
		petro_img, petro_writer, petro_regdate)	
		values (petro_seq.nextval, #{petro_title}, #{petro_content}, #{petro_img, jdbcType=VARCHAR}, 
		#{petro_writer}, sysdate)
		]]>
</insert>

<!-- 글 쓰고 읽기 -->
	<select id="petroWriteInfo" parameterType="java.lang.Integer" resultType="com.global.vo.PetroVO">
	<![CDATA[
		select 	petro_writer,
				to_char(petro_regdate, 'YYYY-MM-DD') as petro_regdate,
		 		petro_title, petro_content, petro_img
				from petro_table 
				where petro_idx = #{petro_idx}
		]]>
	</select>

</mapper>